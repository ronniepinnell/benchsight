<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BenchSight LLM Handoff</title>
    <style>
        :root {
            --bg: #0f172a;
            --card: #1e293b;
            --text: #e2e8f0;
            --muted: #94a3b8;
            --accent: #00d4aa;
            --accent2: #3b82f6;
            --warn: #f59e0b;
            --danger: #ef4444;
            --success: #10b981;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg); color: var(--text);
            line-height: 1.6; padding: 20px;
        }
        .container { max-width: 900px; margin: 0 auto; }
        h1 { color: var(--accent); margin-bottom: 8px; }
        h2 { color: var(--accent2); margin: 24px 0 12px; border-bottom: 1px solid var(--card); padding-bottom: 8px; }
        h3 { color: var(--warn); margin: 16px 0 8px; }
        .version-badge { 
            display: inline-block; background: var(--accent); color: var(--bg);
            padding: 4px 12px; border-radius: 4px; font-weight: bold; margin-bottom: 16px;
        }
        .date { color: var(--muted); font-size: 14px; margin-bottom: 24px; }
        .section { background: var(--card); padding: 16px; border-radius: 8px; margin-bottom: 16px; }
        .critical { background: #7f1d1d; border: 2px solid var(--danger); }
        ul { margin-left: 20px; }
        li { margin: 4px 0; }
        code { background: var(--bg); padding: 2px 6px; border-radius: 4px; font-size: 13px; }
        pre { background: var(--bg); padding: 12px; border-radius: 4px; overflow-x: auto; margin: 8px 0; }
        a { color: var(--accent); }
        .nav { margin-bottom: 20px; }
        .nav a { margin-right: 16px; }
        table { width: 100%; border-collapse: collapse; margin: 12px 0; }
        th, td { padding: 8px; text-align: left; border-bottom: 1px solid var(--card); }
        th { color: var(--accent); }
        .highlight { color: var(--warn); font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <div class="nav">
            <a href="index.html">‚Üê Back to Docs</a>
        </div>
        
        <h1>ü§ñ BenchSight LLM Handoff</h1>
        <div class="version-badge">v16.08</div>
        <div class="date">Last Updated: January 8, 2026</div>

        <div class="section critical">
            <h2>üö® CRITICAL: Read First</h2>
            <ol>
                <li><strong>Goals counted ONE way:</strong> <code>event_type='Goal' AND event_detail='Goal_Scored'</code></li>
                <li><strong>17 total goals</strong> across 4 games - this is IMMUTABLE</li>
                <li><strong>59 tables</strong> in output - verify this number</li>
                <li><strong>ALWAYS read</strong> <code>LLM_REQUIREMENTS.md</code> before making changes</li>
            </ol>
        </div>

        <div class="section">
            <h2>üìä Current State</h2>
            
            <h3>Tables</h3>
            <table>
                <tr><th>Category</th><th>Count</th></tr>
                <tr><td>Dimensions (dim_*)</td><td>33</td></tr>
                <tr><td>Facts (fact_*)</td><td>24</td></tr>
                <tr><td>QA (qa_*)</td><td>2</td></tr>
                <tr><td><strong>Total</strong></td><td><strong>59</strong></td></tr>
            </table>

            <h3>Games Tracked</h3>
            <table>
                <tr><th>Game ID</th><th>Goals</th><th>Home</th><th>Away</th></tr>
                <tr><td>18969</td><td>7</td><td>Velodrome</td><td>AMOS</td></tr>
                <tr><td>18977</td><td>6</td><td>Velodrome</td><td>Ace</td></tr>
                <tr><td>18981</td><td>3</td><td>Velodrome</td><td>Rusty</td></tr>
                <tr><td>18987</td><td>1</td><td>Velodrome</td><td>Rusty</td></tr>
                <tr><td><strong>Total</strong></td><td><strong>17</strong></td><td colspan="2"></td></tr>
            </table>
        </div>

        <div class="section">
            <h2>üîß Recent Work (v14.x)</h2>
            
            <h3>v16.08 (Current)</h3>
            <ul>
                <li>Play details load from Supabase dim tables</li>
                <li>Edit modal navigation (‚Üê ‚Üí)</li>
                <li>Player role selection in edit modal</li>
                <li>Shift player editing with dropdowns</li>
                <li>Event log improvements</li>
                <li>Clear all events/shifts functions</li>
            </ul>

            <h3>v16.08</h3>
            <ul>
                <li>Tracker v3 complete</li>
                <li>ETL-aligned export format</li>
                <li>Full keyboard shortcuts</li>
            </ul>
        </div>

        <div class="section">
            <h2>üìÅ Key Files</h2>
            
            <h3>Must Read</h3>
            <pre>
LLM_REQUIREMENTS.md     # CRITICAL rules
CHANGELOG.md            # Version history
config/VERSION.json     # Current version
config/IMMUTABLE_FACTS.json  # Verified goals</pre>

            <h3>Tracker</h3>
            <pre>
ui/tracker/index.html   # Main tracker app
docs/TRACKER_ETL_SPECIFICATION.md
docs/TRACKER_V3_SPECIFICATION.md</pre>

            <h3>ETL</h3>
            <pre>
src/etl_orchestrator.py  # Main ETL entry
scripts/pre_delivery.py  # Delivery pipeline</pre>
        </div>

        <div class="section">
            <h2>‚ö†Ô∏è What NOT to Change</h2>
            <ul>
                <li><span class="highlight">Goal counting logic</span> - NEVER modify</li>
                <li><span class="highlight">IMMUTABLE_FACTS.json</span> - Human-verified, don't touch</li>
                <li>Table naming conventions - dim_*, fact_*, qa_*</li>
                <li>ID formats - Already standardized</li>
            </ul>
        </div>

        <div class="section">
            <h2>üéØ Current Priorities</h2>
            <ol>
                <li><strong>Tracker Efficiency:</strong> Reduce tracking time from 8hrs ‚Üí 1hr</li>
                <li><strong>Data Loading:</strong> Fix play details population on load</li>
                <li><strong>Workflow:</strong> More automation, fewer clicks</li>
                <li><strong>Documentation:</strong> Keep in sync with changes</li>
            </ol>
        </div>

        <div class="section">
            <h2>üíª Commands</h2>
            
            <h3>Run ETL</h3>
            <pre>python -m src.etl_orchestrator full</pre>

            <h3>Run Tests</h3>
            <pre>pytest tests/test_tier1_blocking.py -v</pre>

            <h3>Pre-Delivery</h3>
            <pre>python scripts/pre_delivery.py</pre>
        </div>

        <div class="section">
            <h2>üìù Session Checklist</h2>
            <p>Before ending session:</p>
            <ul>
                <li>‚òê Update CHANGELOG.md with changes</li>
                <li>‚òê Update VERSION.json</li>
                <li>‚òê Run tests (at least tier 1)</li>
                <li>‚òê Create delivery package</li>
                <li>‚òê Verify goal count = 17</li>
            </ul>
        </div>
    </div>
</body>
</html>
