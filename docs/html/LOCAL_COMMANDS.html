<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BenchSight Local Commands</title>
    <style>
        :root {
            --bg: #0f172a;
            --card: #1e293b;
            --text: #e2e8f0;
            --muted: #94a3b8;
            --accent: #00d4aa;
            --accent2: #3b82f6;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg); color: var(--text);
            line-height: 1.6; padding: 20px;
        }
        .container { max-width: 900px; margin: 0 auto; }
        h1 { color: var(--accent); margin-bottom: 24px; }
        h2 { color: var(--accent2); margin: 24px 0 12px; }
        .section { background: var(--card); padding: 16px; border-radius: 8px; margin-bottom: 16px; }
        pre { background: var(--bg); padding: 12px; border-radius: 4px; overflow-x: auto; margin: 8px 0; }
        code { color: var(--accent); }
        .nav { margin-bottom: 20px; }
        .nav a { color: var(--accent); margin-right: 16px; }
        .desc { color: var(--muted); font-size: 13px; margin-bottom: 8px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="nav">
            <a href="index.html">‚Üê Back to Docs</a>
        </div>
        
        <h1>üñ•Ô∏è Local Commands Reference</h1>
        <p style="color: var(--muted); margin-bottom: 24px;">Version 14.20 | January 8, 2026</p>

        <div class="section">
            <h2>üì¶ Pre-Delivery Pipeline</h2>
            <p class="desc">Single command for complete delivery preparation</p>
            <pre><code># Full pipeline (recommended)
python scripts/pre_delivery.py

# Quick check (skip ETL)
python scripts/pre_delivery.py --quick

# Dry run (no changes)
python scripts/pre_delivery.py --dry-run</code></pre>
        </div>

        <div class="section">
            <h2>üîÑ ETL Commands</h2>
            <pre><code># Full ETL run
python -m src.etl_orchestrator full

# Check status
python -m src.etl_orchestrator status

# Incremental (new games only)
python -m src.etl_orchestrator incremental

# Reset and rebuild
python -m src.etl_orchestrator reset</code></pre>
        </div>

        <div class="section">
            <h2>üß™ Testing</h2>
            <pre><code># All tests
pytest tests/ -v

# Tier 1 only (blocking)
pytest tests/test_tier1_blocking.py -v

# Tier 2 only (warnings)
pytest tests/test_tier2_warning.py -v

# Specific test
pytest tests/test_tier1_blocking.py::test_goal_counts -v</code></pre>
        </div>

        <div class="section">
            <h2>‚òÅÔ∏è Supabase</h2>
            <pre><code># Sync all tables to Supabase
python supabase/sync_to_supabase.py

# Generate schema from CSVs
python supabase/generate_schema.py

# Sync specific table
python supabase/sync_to_supabase.py --table dim_player</code></pre>
        </div>

        <div class="section">
            <h2>üìö Documentation</h2>
            <pre><code># Sync documentation values
python scripts/utilities/doc_sync.py --fix

# Audit documentation
python scripts/utilities/doc_sync.py --audit

# Regenerate HTML table docs
python scripts/utilities/doc_sync.py --generate

# Check doc registry
python scripts/utilities/doc_registry.py --report</code></pre>
        </div>

        <div class="section">
            <h2>üîç Verification</h2>
            <pre><code># BS Detector (comprehensive check)
python scripts/bs_detector.py

# Validate input files
python scripts/utilities/validate_input.py

# Schema snapshot
python scripts/utilities/schema_snapshot.py</code></pre>
        </div>

        <div class="section">
            <h2>üìä Quick Stats</h2>
            <pre><code># Count tables
ls -1 data/output/*.csv | wc -l

# Count goals
python -c "import pandas as pd; df=pd.read_csv('data/output/fact_events.csv'); print(len(df[(df['event_type']=='Goal')&(df['event_detail']=='Goal_Scored')]))"

# Check goal counts per game
python -c "import pandas as pd; df=pd.read_csv('data/output/fact_events.csv'); print(df[(df['event_type']=='Goal')&(df['event_detail']=='Goal_Scored')].groupby('game_id').size())"</code></pre>
        </div>

        <div class="section">
            <h2>üì¶ Create Delivery Package</h2>
            <pre><code># Create zip package
cd /home/claude/benchsight
rm -rf /tmp/benchsight_v16.08
cp -r project /tmp/benchsight_v16.08
cd /tmp
zip -r benchsight_v16.08.zip benchsight_v16.08 \
  -x "*.git*" -x "*__pycache__*" -x "*.pyc"</code></pre>
        </div>
    </div>
</body>
</html>
