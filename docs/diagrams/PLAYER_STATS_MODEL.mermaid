flowchart LR
    subgraph PLAYER["üèí fact_player_game_stats<br/>317 COLUMNS"]
        direction TB
        
        subgraph Core["CORE (12)"]
            C1["goals, assists, points"]
            C2["sog, shots_missed, shots_blocked"]
            C3["plus_minus, pim"]
        end
        
        subgraph TOI["TIME ON ICE (10)"]
            T1["toi_seconds, toi_minutes"]
            T2["shift_count, avg_shift"]
            T3["ev_toi, pp_toi, sh_toi"]
        end
        
        subgraph Passing["PASSING (15)"]
            P1["passes_attempted, passes_completed"]
            P2["pass_pct, key_passes"]
            P3["primary_assists, secondary_assists"]
        end
        
        subgraph Zones["ZONE TRANSITIONS (20)"]
            Z1["zone_entries, zone_exits"]
            Z2["zone_entry_carry, zone_entry_dump"]
            Z3["controlled_entry_pct"]
        end
        
        subgraph Turnovers["TURNOVERS (15)"]
            TO1["giveaways, takeaways"]
            TO2["giveaways_bad/neutral/good"]
            TO3["turnovers_oz/nz/dz"]
        end
        
        subgraph Possession["POSSESSION (10)"]
            PO1["corsi_for, corsi_against"]
            PO2["cf_pct, ff_pct"]
            PO3["oz_pct, dz_pct"]
        end
        
        subgraph Per60["PER 60 RATES (10)"]
            R1["goals_per_60, assists_per_60"]
            R2["shots_per_60, cf_per_60"]
        end
        
        subgraph Defender["DEFENDER STATS (20)"]
            D1["def_shots_against, def_goals_against"]
            D2["def_entries_allowed"]
            D3["defensive_assignments"]
        end
        
        subgraph Micro["MICRO STATS (65)"]
            M1["puck_touches, battles_won"]
            M2["pressure_events"]
            M3["zone_time_oz/nz/dz"]
        end
        
        subgraph Rating["RATING ADJUSTED (10)"]
            RA1["qoc_rating, qot_rating"]
            RA2["cf_pct_rating_adj"]
        end
        
        subgraph XG["xG STATS (12)"]
            X1["xg_for, xg_against"]
            X2["xg_diff, xg_pct"]
            X3["xg_per_shot"]
        end
        
        subgraph Danger["DANGER ZONES (10)"]
            DZ1["shots_high_danger"]
            DZ2["shots_medium_danger"]
            DZ3["shots_low_danger"]
            DZ4["scoring_chances"]
        end
        
        subgraph Composite["COMPOSITE (10)"]
            CO1["game_score, game_score_per_60"]
            CO2["complete_player_score"]
            CO3["two_way_rating"]
        end
        
        subgraph Performance["PERFORMANCE (7)"]
            PE1["effective_game_rating"]
            PE2["rating_performance_delta"]
            PE3["performance_index"]
        end
        
        subgraph Success["SUCCESS FLAGS (16)"]
            S1["shots_successful/unsuccessful"]
            S2["passes_successful/unsuccessful"]
            S3["overall_success_rate"]
        end
        
        subgraph Rush["RUSH STATS (13)"]
            RU1["rush_shots, rush_goals"]
            RU2["odd_man_rushes"]
            RU3["breakaway_attempts"]
        end
        
        subgraph FO["FACEOFF ZONES (12)"]
            F1["fo_wins_oz/nz/dz"]
            F2["fo_losses_oz/nz/dz"]
            F3["fo_pct_oz/nz/dz"]
        end
        
        subgraph Context["CONTEXTUAL (9)"]
            CX1["first/second/third_period_points"]
            CX2["clutch_goals"]
            CX3["clutch_factor"]
        end
    end

    %% Styling
    classDef core fill:#bbdefb,stroke:#1565c0
    classDef toi fill:#c8e6c9,stroke:#2e7d32
    classDef advanced fill:#ffecb3,stroke:#ff8f00
    classDef danger fill:#ffcdd2,stroke:#c62828
    classDef composite fill:#e1bee7,stroke:#7b1fa2
    
    class C1,C2,C3 core
    class T1,T2,T3 toi
    class X1,X2,X3,PE1,PE2,PE3 advanced
    class DZ1,DZ2,DZ3,DZ4 danger
    class CO1,CO2,CO3 composite
