table_name,layer,grain_or_level,primary_key,foreign_keys,description,main_use_cases
dim_player,static_dim,one row per player,player_id,"team_id, league_id","Master list of players, including name, jersey numbers per team, rating (2-6), handedness, position, etc.",Joining onto all fact tables that reference players; rating-aware stats; roster building.
dim_team,static_dim,one row per team,team_id,league_id,"Team master data (name, logo, colors, division, level, etc.).",Team-level reports; on-ice grouping of players; schedule/ladders.
dim_game,static_dim,one row per game,game_id,"home_team_id, away_team_id, season_id, date_key","Game metadata: date/time, teams, venue, manual vs partial vs untracked flags.",Game summary pages; filtering all fact tables by game.
dim_dates,static_dim,one row per calendar date,date_key,,"Standard date dimension from BLB_Tables with year, month, week, season flags.","Season splits, rolling windows, time-series analysis in Power BI."
dim_rinkcoordzones,static_dim,one row per named rink zone,zone_id,,"Definitions of rink zones (e.g., OZ low slot, point, corner) with polygons in rink coordinates.","Classifying XY events/shots by danger area, zone-based microstats."
dim_rinkboxcoords,static_dim,one row per goalmouth box cell,box_id,,"Net-level grid cells used to categorize where shots hit or were aimed (high glove, low blocker, etc.).",Shot maps by location; goalie scouting and heatmaps.
fact_events_long,mart_fact_detail,one row per tracked event,event_key,"game_id, period, event_index, event_team_id, event_player_1_id, sequence_id, play_id, linked_event_id","Fully normalized event log: every on-puck event with details, players involved, success flags, and chain indices.","Microstats, xG modeling, play chaining, sequence analysis, shot/pass turnover breakdown."
fact_events_wide,mart_fact_header,one row per event_index per game,event_header_key,"game_id, event_index, tracking_event_index","Header-level event table aggregating all players/roles for an event plus contextual info (situation, strength, on-ice lines, rating context).",Fast joins to shifts and boxscore; Power BI-friendly star schema fact for event-level visuals.
fact_shifts_long,mart_fact_detail,one row per player per logical shift,player_shift_key,"game_id, player_id, shift_index, logical_shift_id","Logical shifts with duration, strength, zone start/end, stoppage-adjusted TOI, rating context and on-ice situation.","TOI, shift-based microstats, opponent matchup analysis, with/without-you style metrics."
fact_shifts_wide,mart_fact_header,one row per raw shift_index per game,shift_header_key,"game_id, shift_index",Wide representation of shifts including home/away forward/defense/goalie jersey numbers and summarized context.,"On-ice lineup identification, fast lookups of who was on-ice for an event via shift-index joins."
fact_player_boxscore,mart_fact_summary,one row per player per game,player_game_key,"game_id, player_id, team_id","Player-level game summary: goals, assists, TOI, shot-based stats, microstats, rating-aware metrics.","Game boxscores, player cards, season aggregations and comparables."
fact_event_chains,mart_fact_chain,"one row per chain instance (linked, sequence, play)",event_chain_key,"game_id, chain_type, chain_id","Summaries of event sequences: plays, linked shot-save-rebound chains, counter rushes, and cycles.","xG context, play-type classification, sequence-level analytics like 'rush chances' and 'cycles'."
fact_xy_events,mart_fact_detail,one row per XY sample per player (or puck) per event,event_xy_key,"game_id, linked_event_id, player_id (or puck flag), zone_id","XY coordinates and derived features (distance, angle, zone) for events on the full rink.","Spatial microstats, entry/exit locations, full-ice rush maps."
fact_xy_shots,mart_fact_detail,one row per shot XY sample,shot_xy_key,"game_id, linked_event_id, box_id, shooter_id, goalie_id",Shot location on the net grid with shooter / goalie context.,"Goalie heatmaps, shooting tendencies, 'where to shoot' analysis."
fact_video_links,mart_fact_support,one row per video segment,video_segment_key,"game_id, source_video_id","YouTube (or other) video links with start/end times mapped to event/shift_running_seconds, for replaying shifts and plays.",Interactive dashboards where users click a shift/event and watch the clip.
fact_game_tracking_status,mart_fact_support,one row per game,game_tracking_status_key,game_id,"Captures whether a game is fully tracked, partially tracked, or untracked; which data types (shifts, events, xy, shots, video) are present; and time windows covered.",Filtering analyses to only fully/partially tracked windows; data quality checks; QA dashboards.
