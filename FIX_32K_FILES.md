# Fix: 32k Files to Commit in GitHub Desktop

## The Problem
GitHub Desktop shows 32,837 files to commit because large data files are still tracked by git.

## Quick Fix

**Run this script from your project directory:**
```bash
cd ~/Documents/Documents\ -\ Ronnie\'s\ MacBook\ Pro\ -\ 1/Programming_HD/Hockey/Benchsight/git/benchsight

./scripts/fix_staging.sh
```

This will:
1. Unstage all `data/output/*.csv` files
2. Unstage all `data/output/*.json` files  
3. Remove them from git tracking (but keep local files)
4. Remove `data/raw/*.xlsx` files
5. Remove `node_modules/` and `.next/` if tracked

## Manual Fix (If Script Doesn't Work)

**1. Unstage data/output files:**
```bash
git reset HEAD data/output/*.csv
git reset HEAD data/output/*.json
```

**2. Remove from git tracking:**
```bash
git rm --cached data/output/*.csv
git rm --cached data/output/*.json
git rm --cached "data/raw/games/"*/*.xlsx
```

**3. Check what's left:**
```bash
git status --short | wc -l
# Should be much less than 32k
```

**4. Commit only code changes:**
```bash
git add .gitignore .gitattributes
git commit -m "Add .gitignore and remove large files from tracking"
```

## What Should Be Committed

After running the script, you should only commit:
- Code changes (`.py`, `.tsx`, `.ts`, `.md`, etc.)
- Configuration files (`.gitignore`, `.gitattributes`)
- Documentation

**NOT:**
- `data/output/*.csv` (generated by ETL)
- `data/output/*.json` (generated files)
- `data/raw/*.xlsx` (source data - too large)
- `node_modules/` (dependencies)
- `.next/` (build files)

## After Fixing

**1. In GitHub Desktop:**
- You should see much fewer files (probably <100)
- Review the list
- Commit with message: "Add .gitignore and remove large files from tracking"

**2. Push from command line (more reliable):**
```bash
git push origin --force --all
```

Or set up SSH first (recommended):
```bash
# Generate SSH key
ssh-keygen -t ed25519 -C "ronnie.pinnell@gmail.com"
# Press Enter 3 times

# Copy public key
cat ~/.ssh/id_ed25519.pub
# Add to GitHub: https://github.com/settings/keys

# Change remote to SSH
git remote set-url origin git@github.com:ronniepinnell/benchsight.git

# Push
git push origin --force --all
```

## Why This Happened

The `.gitignore` file prevents NEW files from being tracked, but files that were already tracked need to be explicitly removed from git.

The script does this automatically.
