<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>All Games | BLB Analytics</title>
<style>
:root{--bg:#0a0e14;--panel:#12171f;--card:#1a2029;--border:#2d3640;--accent:#58a6ff;--success:#3fb950;--warn:#d29922;--danger:#f85149;--text:#e6edf3;--muted:#8b949e;--velo:#9C47E4}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:var(--bg);color:var(--text);min-height:100vh}
.header{background:var(--panel);border-bottom:1px solid var(--border);padding:12px 24px;display:flex;align-items:center;gap:16px}
.header a{color:var(--muted);text-decoration:none;padding:6px 12px;background:var(--card);border-radius:6px}
.header h1{font-size:16px}
.filters{margin-left:auto;display:flex;gap:8px}
.filters select{background:var(--card);border:1px solid var(--border);color:var(--text);padding:6px 10px;border-radius:4px;font-size:11px}
.container{max-width:1200px;margin:0 auto;padding:24px}
.games-table{width:100%;border-collapse:collapse;background:var(--card);border-radius:10px;overflow:hidden}
.games-table th{text-align:left;padding:14px 16px;background:var(--panel);color:var(--muted);font-size:11px;font-weight:500;text-transform:uppercase;border-bottom:1px solid var(--border)}
.games-table td{padding:14px 16px;border-bottom:1px solid var(--border);font-size:12px}
.games-table tr:hover{background:rgba(88,166,255,0.05);cursor:pointer}
.games-table .game-id{font-family:monospace;color:var(--accent)}
.matchup{display:flex;align-items:center;gap:8px}
.matchup img{width:24px;height:24px;border-radius:4px;object-fit:contain;background:#fff}
.matchup .vs{color:var(--muted);font-size:10px}
.score{font-weight:700;font-size:14px}
.result{padding:4px 10px;border-radius:4px;font-size:10px;font-weight:600}
.result.w{background:rgba(63,185,80,0.2);color:var(--success)}
.result.l{background:rgba(248,81,73,0.2);color:var(--danger)}
.result.t{background:rgba(210,153,34,0.2);color:var(--warn)}
.result.upcoming{background:var(--panel);color:var(--muted)}
.tracking{display:flex;align-items:center;gap:6px}
.tracking-dot{width:8px;height:8px;border-radius:50%}
.tracking-dot.full{background:var(--success)}
.tracking-dot.partial{background:var(--warn)}
.tracking-dot.none{background:var(--danger)}
.btn{background:var(--panel);border:1px solid var(--border);color:var(--text);padding:4px 10px;border-radius:4px;font-size:10px;cursor:pointer}
.btn:hover{background:var(--border)}
.btn.primary{background:var(--accent);border-color:var(--accent);color:#000}
.legend{display:flex;gap:16px;margin-bottom:16px;font-size:10px;color:var(--muted)}
.legend span{display:flex;align-items:center;gap:4px}
</style>
</head>
<body>

<div class="header">
  <a href="index.html">‚Üê Home</a>
  <h1>üìÖ All Games</h1>
  <div class="filters">
    <select id="filterTeam" onchange="filterGames()">
      <option value="all">All Teams</option>
      <option value="velo" selected>Velodrome Only</option>
    </select>
    <select id="filterStatus" onchange="filterGames()">
      <option value="all">All Status</option>
      <option value="tracked">Tracked</option>
      <option value="untracked">Not Tracked</option>
    </select>
  </div>
</div>

<div class="container">
  <div class="legend">
    <span><div class="tracking-dot full"></div> Full Tracking</span>
    <span><div class="tracking-dot partial"></div> Partial</span>
    <span><div class="tracking-dot none"></div> Not Tracked</span>
  </div>
  
  <table class="games-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Date</th>
        <th>Matchup</th>
        <th>Score</th>
        <th>Result</th>
        <th>Tracking</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody id="gamesBody"></tbody>
  </table>
</div>

<script>
const TEAMS = {
  "Velodrome":{logo:"https://i0.wp.com/www.noradhockey.com/wp-content/uploads/2025/06/Velodrome-Vertical.png?resize=128%2C110&ssl=1"},
  "Platinum":{logo:"https://i0.wp.com/www.noradhockey.com/wp-content/uploads/2025/04/Hartford-Final-scaled.png"},
  "HollowBrook":{logo:"https://i0.wp.com/www.noradhockey.com/wp-content/uploads/2017/01/HBD-Logo.png"},
  "Nelson":{logo:"https://i0.wp.com/www.noradhockey.com/wp-content/uploads/2025/08/2025-26-NC-Logo.png"},
  "OS Offices":{logo:"https://i0.wp.com/www.noradhockey.com/wp-content/uploads/2020/10/Office-Scapes-Logo-Small.png"},
  "Orphans":{logo:"https://i0.wp.com/www.noradhockey.com/wp-content/uploads/2023/07/World-Orphans-Logo-small.png"},
  "Outlaws":{logo:"https://i0.wp.com/www.noradhockey.com/wp-content/uploads/2024/08/OUTCAN-Outlaws-Logo.png"},
  "Triple J":{logo:"https://i0.wp.com/www.noradhockey.com/wp-content/uploads/2017/01/Image_11-11-24_at_10.17_AM.png"},
  "Ace":{logo:"https://i0.wp.com/www.noradhockey.com/wp-content/uploads/2023/06/Ace-Hardware-Jersey-Logo.png"},
  "Amos":{logo:"https://i0.wp.com/www.noradhockey.com/wp-content/uploads/2023/07/AMOS-Logo-small.png"}
};

const GAMES = [
  {id:18955,date:"Aug 10",home:"Velodrome",away:"Orphans",hScore:4,aScore:2,tracking:"partial",events:523},
  {id:18959,date:"Aug 17",home:"Amos",away:"Velodrome",hScore:3,aScore:5,tracking:"none",events:0},
  {id:18965,date:"Aug 24",home:"Velodrome",away:"OS Offices",hScore:6,aScore:3,tracking:"full",events:3244},
  {id:18969,date:"Sep 7",home:"Platinum",away:"Velodrome",hScore:2,aScore:4,tracking:"full",events:2076},
  {id:18977,date:"Sep 14",home:"Velodrome",away:"HollowBrook",hScore:5,aScore:3,tracking:"full",events:2526},
  {id:18981,date:"Sep 28",home:"Nelson",away:"Velodrome",hScore:4,aScore:3,tracking:"full",events:2424},
  {id:18987,date:"Oct 5",home:"Outlaws",away:"Velodrome",hScore:2,aScore:6,tracking:"partial",events:1585},
  {id:18991,date:"Oct 12",home:"Triple J",away:"Velodrome",hScore:3,aScore:4,tracking:"partial",events:523},
  {id:18993,date:"Oct 19",home:"Ace",away:"Velodrome",hScore:5,aScore:2,tracking:"none",events:0},
  {id:18998,date:"Oct 26",home:"Orphans",away:"Velodrome",hScore:null,aScore:null,tracking:"none",events:0},
  {id:19007,date:"Nov 2",home:"Amos",away:"Velodrome",hScore:null,aScore:null,tracking:"none",events:0},
  {id:19009,date:"Nov 9",home:"OS Offices",away:"Velodrome",hScore:null,aScore:null,tracking:"none",events:0},
  {id:19014,date:"Nov 16",home:"Platinum",away:"Velodrome",hScore:null,aScore:null,tracking:"none",events:0},
  {id:19020,date:"Nov 23",home:"HollowBrook",away:"Velodrome",hScore:null,aScore:null,tracking:"none",events:0}
];

function filterGames() {
  const status = document.getElementById('filterStatus').value;
  let filtered = GAMES;
  
  if (status === 'tracked') filtered = filtered.filter(g => g.tracking !== 'none');
  if (status === 'untracked') filtered = filtered.filter(g => g.tracking === 'none');
  
  renderGames(filtered);
}

function renderGames(games) {
  document.getElementById('gamesBody').innerHTML = games.map(g => {
    const homeT = TEAMS[g.home] || {};
    const awayT = TEAMS[g.away] || {};
    const isVeloHome = g.home === 'Velodrome';
    const veloScore = isVeloHome ? g.hScore : g.aScore;
    const oppScore = isVeloHome ? g.aScore : g.hScore;
    
    let result = '', resultClass = '';
    if (g.hScore !== null) {
      if (veloScore > oppScore) { result = 'W'; resultClass = 'w'; }
      else if (veloScore < oppScore) { result = 'L'; resultClass = 'l'; }
      else { result = 'T'; resultClass = 't'; }
    } else {
      result = 'Upcoming'; resultClass = 'upcoming';
    }
    
    return `<tr onclick="location.href='dashboard_game.html?id=${g.id}'">
      <td class="game-id">#${g.id}</td>
      <td>${g.date}</td>
      <td>
        <div class="matchup">
          <img src="${homeT.logo}" onerror="this.style.display='none'">${g.home}
          <span class="vs">vs</span>
          <img src="${awayT.logo}" onerror="this.style.display='none'">${g.away}
        </div>
      </td>
      <td class="score">${g.hScore !== null ? `${g.hScore} - ${g.aScore}` : '-'}</td>
      <td><span class="result ${resultClass}">${result}</span></td>
      <td>
        <div class="tracking">
          <div class="tracking-dot ${g.tracking}"></div>
          ${g.events > 0 ? `${g.events.toLocaleString()} events` : 'No data'}
        </div>
      </td>
      <td>
        <button class="btn" onclick="event.stopPropagation();location.href='dashboard_game.html?id=${g.id}'">View</button>
        ${g.tracking !== 'full' ? `<button class="btn primary" onclick="event.stopPropagation();location.href='tracker_v15.html?game=${g.id}'">Track</button>` : ''}
      </td>
    </tr>`;
  }).join('');
}

filterGames();
</script>
</body>
</html>
